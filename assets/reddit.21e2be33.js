import{q as c}from"./common.ab30cf5c.js";const d="modulepreload",l={},m="./",h=function(s,t){return!t||t.length===0?s():Promise.all(t.map(n=>{if(n=`${m}${n}`,n in l)return;l[n]=!0;const o=n.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":d,o||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),o)return new Promise((u,f)=>{r.addEventListener("load",u),r.addEventListener("error",f)})})).then(()=>s())};window.addEventListener("message",e=>{e.origin===location.origin&&typeof e.data=="string"&&p(JSON.parse(e.data))},!1);const i="<p>Sample text</p>";async function p(e){if(e.action==="subreddit")c(".domain > a").textContent=`self.${e.value}`,c("#subreddit-css").href=`https://old.reddit.com/r/${e.value}/stylesheet.css`;else if(e.action==="content"){const s=await h(()=>import("./snudown_es.7f79b3b3.js"),[]);[...document.querySelectorAll("form.usertext .md")].forEach(t=>{t.getAttribute("data-type")===e.value.type?t.innerHTML=e.value.content?s.markdown(e.value.content):i:t.innerHTML.trim()!==i&&(t.innerHTML=i)})}}
